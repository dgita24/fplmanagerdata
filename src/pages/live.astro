---
import Layout from "../layouts/Layout.astro";
import Nav from "../components/Nav.astro";
import SquadModal from "../components/modals/SquadModal.astro";
import PlayerModal from "../components/modals/PlayerModal.astro";
import GWPointsModal from "../components/modals/GWPointsModal.astro";
import "../styles/pages/live.css";
---
<Layout title="Live League Standings - FPL Manager Data">
  <Nav />

  <main class="page">
    <header class="page-header">
      <h1 class="page-title">ðŸ”´  Live Standings  ðŸ”´</h1>
      <p class="page-subtitle">Real-time league table with live points, projected bonus & auto subs.</p>
    </header>

    <div class="meta-row-wide">
      <span id="manager-count" class="badge badge-wide">Loading...</span>
      <a href="/managers" class="badge badge-wide">âš™ Manage IDs</a>
    </div>

    <div class="controls-inline">
      <div class="control-inline">
        <label class="label-small" for="gw-filter">Gameweek</label>
        <select class="select-small" id="gw-filter">
          <option value="">Select GW</option>
        </select>
      </div>
      <div class="control-inline">
        <label class="label-small" for="compare-manager">Compare to</label>
        <select class="select-small" id="compare-manager">
          <option value="">Leader</option>
        </select>
      </div>
      <div class="control-inline">
        <label class="label-small">&nbsp;</label>
        <button id="refresh-btn" class="btn-row" type="button">ðŸ”„ Refresh</button>
      </div>
    </div>

    <div id="loading-status" class="meta-row"></div>
    <div id="last-updated" class="meta-row"></div>
    <section id="live-output" aria-live="polite"></section>
  </main>

  <SquadModal /> 
  <PlayerModal />
  <GWPointsModal />

</Layout>

<script>
  import '../scripts/live.page.ts';
</script>

